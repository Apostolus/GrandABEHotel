$("#reservation-form").submit(function(event){
	event.preventDefault();
	var destination = "http://localhost/GrandABEHotel/reservation";
	alert("dd");

	$(this).children(".form-loading-disabled").addClass("form-loading-active");
	$(this).children(".form-loading-disabled").removeClass("form-loading-disabled");

	// Send the AJAX Request
	$.ajax({
		type: "POST",
		url: destination,
		data: $("#reservation-form").serialize(),
		timeout: 5000,
		fail: function()
		{
			$(this).children(".form-loading-active").addClass("form-loading-disabled");
			$(this).children(".form-loading-active").removeClass("form-loading-active");
			alert("AS");
		},
		success: function(data)
		{
			// DIsable the loading overlay
			$(this).children(".form-loading-active").addClass("form-loading-disabled");
			$(this).children(".form-loading-active").removeClass("form-loading-active");
			
			// Check out all form error divs if the form is error
			var noError = true;
			var errorIndex;
			$(".form-group").each(function(i, obj){
				if ((errorIndex = data.error_message.indexOf($(this).data("for"))) > -1)
				{
					noError = false;
					$(this).children(".form-error").html(data.error_message[errorIndex]);
				}
			});

			if (noError)
			{
				$(this).children("#form-notification").html('\
				<div class="alert alert-success alert-dismissible" role="alert">\
						<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>\
						<strong>' + data.success_title + '</strong> ' + data.success_message + '\
					</div>\
				');
			}
			else
			{
				$(this).children("#form-notification").html('\
				<div class="alert alert-error alert-dismissible" role="alert">\
						<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>\
						<strong>' + data.error_title + '</strong> ' + data.error_message + '\
					</div>\
				');
			}
		}
	});
});